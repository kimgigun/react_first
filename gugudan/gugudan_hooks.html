<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>
    <script type='text/babel'>
        const Gugudan = ()=>{

            const [result, setResult] = React.useState('');
            const [first, setFirst] = React.useState(Math.ceil(Math.random() * 9));
            const [second, setSecond] = React.useState(Math.ceil(Math.random() * 9));
            const [value, setValue] = React.useState('');
       

            const onSubmit = (e) => {
                console.log('onSubmit');
                e.preventDefault();
                if(value === first * second){
                    setResult((prevValue) => {return prevValue + ' 정답'});
                    setFirst(Math.ceil(Math.random() * 9 ));
                    setSecond(Math.ceil(Math.random() * 9 ));
                    setValue('');
                }else{
                    setResult('땡');
                    setValue('');
                }
            
            };

            const onChange = (e) => {
                console.log('onChange');
                setValue(Number(e.target.value));
            };
        
            
        
        
            //데이터가 변경되면(setState함수를 실행하면) 렌더링 함수가 계속 호출됨
            console.log('렌더링');
            return(
                <React.Fragment>
                    <div>{first}곱하기{second}</div>
                    <form onSubmit={onSubmit}>
                        <p>
                            <input type="text"  onChange={onChange} value={value}/>    
                        </p>
                        <button>입력</button>
                        <p>
                            <span>{result}</span>
                        </p>
                     </form>
                </React.Fragment> 
            );
      
   
    }
    </script>
    <script type='text/babel'>
        ReactDOM.render(<Gugudan />, document.querySelector('#root'));
    </script>

    </div>
</body>
</html> 